#+TITLE: Graph memory and XTDB storage
:PROPERTIES:
:DOC_ID: futon1-a3475e4ba7df
:ENTRY_ID: futon1-a3475e4ba7df::org
:VERSION: org
:OUTLINE_PATH: Storage / Graph memory and XTDB storage
:PATH_STRING: Storage / Graph memory and XTDB storage
:REPLACES:
:END:

* Overview
`apps/graph-memory` houses the Datascript schema, store manager, and
persistence utilities. It keeps an in-memory graph cache while mirroring all
mutations into XTDB for durability.

* Hydration and mirroring
On startup `app.store-manager/start!` spins up Datascript and XTDB, hydrates
identity/version docs, and loads cached type definitions via
`graph_memory.types_registry`. Every mutation is submitted to XTDB so the
next session can replay the same graph state.

* XTDB touchpoints
`app.xt` wraps node lifecycle and query helpers, while `app.store` writes
entity/relation documents into XTDB alongside Datascript. See
`README-storage.md` for the hydration sequence and inspection snippets.
